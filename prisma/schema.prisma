generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model company {
  id       String @id @default(uuid())
  profile  String @db.LongText
  metadata String @db.LongText
  entityId String @unique(map: "Company_entityId_key")
  entity   entity @relation(fields: [entityId], references: [id], map: "Company_entityId_fkey")
}

model cv {
  id           String @id @default(uuid())
  job_position String
  metadata     String @db.LongText
  userId       String @unique(map: "CV_userId_key")
  user         user   @relation(fields: [userId], references: [id], map: "CV_userId_fkey")
}

model entity {
  id              String    @id @default(uuid())
  username        String
  hashed_password String
  created_at      DateTime @default(now())
  company         company?
  user            user?
}

model user {
  id       String @id    @default(uuid())
  profile  String @db.LongText
  metadata String @db.LongText
  entityId String @unique(map: "User_entityId_key")
  cv       cv?
  entity   entity @relation(fields: [entityId], references: [id], map: "User_entityId_fkey")
}
